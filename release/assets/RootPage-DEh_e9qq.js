import{u as A,r as c,C as k,c as M,_ as q,a as R,s as G,g as J,d as O,f as Q,b as Y,e as Z,T as P,h as V,i as K,j as ee,k as I,l as te,m as N,n as oe,o as g,O as re}from"./index-CNB927hB.js";import{u as T}from"./AuthStore-DPMOSj-O.js";import{t as ne,g as ae,o as se,I as w,R as ie}from"./index-BP3NYH9n.js";import{S as _,L as le,a as ce,M as de}from"./index-BupBvzyY.js";import{a as ge}from"./axiosUtil-D-9LEqQl.js";function ue(t,e,o){return typeof o=="boolean"?o:t.length?!0:ne(e).some(n=>n.type===_)}const he=t=>{const{componentCls:e,bodyBg:o,lightSiderBg:r,lightTriggerBg:n,lightTriggerColor:l}=t;return{[`${e}-sider-light`]:{background:r,[`${e}-sider-trigger`]:{color:l,background:n},[`${e}-sider-zero-width-trigger`]:{color:l,background:n,border:`1px solid ${o}`,borderInlineStart:0}}}},fe=t=>{const{antCls:e,componentCls:o,colorText:r,triggerColor:n,footerBg:l,triggerBg:i,headerHeight:s,headerPadding:a,headerColor:d,footerPadding:m,triggerHeight:u,zeroTriggerHeight:p,zeroTriggerWidth:C,motionDurationMid:S,motionDurationSlow:h,fontSize:b,borderRadius:x,bodyBg:j,headerBg:z,siderBg:B}=t;return{[o]:Object.assign(Object.assign({display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:j,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},[`${o}-sider`]:{position:"relative",minWidth:0,background:B,transition:`all ${S}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${e}-menu${e}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:u},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:u,color:n,lineHeight:A(u),textAlign:"center",background:i,cursor:"pointer",transition:`all ${S}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:s,insetInlineEnd:t.calc(C).mul(-1).equal(),zIndex:1,width:C,height:p,color:n,fontSize:t.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:B,borderStartStartRadius:0,borderStartEndRadius:x,borderEndEndRadius:x,borderEndStartRadius:0,cursor:"pointer",transition:`background ${h} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${h}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:t.calc(C).mul(-1).equal(),borderStartStartRadius:x,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:x}}}}},he(t)),{"&-rtl":{direction:"rtl"}}),[`${o}-header`]:{height:s,padding:a,color:d,lineHeight:A(s),background:z,[`${e}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:m,color:r,fontSize:b,background:l},[`${o}-content`]:{flex:"auto",color:r,minHeight:0}}},me=t=>{const{colorBgLayout:e,controlHeight:o,controlHeightLG:r,colorText:n,controlHeightSM:l,marginXXS:i,colorTextLightSolid:s,colorBgContainer:a}=t,d=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:o*2,headerPadding:`0 ${d}px`,headerColor:n,footerPadding:`${l}px ${d}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+i*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:a,lightTriggerBg:a,lightTriggerColor:n}},X=ae("Layout",t=>[fe(t)],me,{deprecatedTokens:[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]]});var F=function(t,e){var o={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(o[r[n]]=t[r[n]]);return o};function $(t){let{suffixCls:e,tagName:o,displayName:r}=t;return n=>c.forwardRef((i,s)=>c.createElement(n,Object.assign({ref:s,suffixCls:e,tagName:o},i)))}const E=c.forwardRef((t,e)=>{const{prefixCls:o,suffixCls:r,className:n,tagName:l}=t,i=F(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=c.useContext(k),a=s("layout",o),[d,m,u]=X(a),p=r?`${a}-${r}`:a;return d(c.createElement(l,Object.assign({className:M(o||p,n,m,u),ref:e},i)))}),pe=c.forwardRef((t,e)=>{const{direction:o}=c.useContext(k),[r,n]=c.useState([]),{prefixCls:l,className:i,rootClassName:s,children:a,hasSider:d,tagName:m,style:u}=t,p=F(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),C=se(p,["suffixCls"]),{getPrefixCls:S,layout:h}=c.useContext(k),b=S("layout",l),x=ue(r,a,d),[j,z,B]=X(b),D=M(b,{[`${b}-has-sider`]:x,[`${b}-rtl`]:o==="rtl"},h==null?void 0:h.className,i,s,z,B),U=c.useMemo(()=>({siderHook:{addSider:H=>{n(L=>[].concat(q(L),[H]))},removeSider:H=>{n(L=>L.filter(W=>W!==H))}}}),[]);return j(c.createElement(le.Provider,{value:U},c.createElement(m,Object.assign({ref:e,className:D,style:Object.assign(Object.assign({},h==null?void 0:h.style),u)},C),a)))}),be=$({tagName:"div",displayName:"Layout"})(pe),xe=$({suffixCls:"header",tagName:"header",displayName:"Header"})(E),ye=$({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(E),ve=$({suffixCls:"content",tagName:"main",displayName:"Content"})(E),v=be;v.Header=xe;v.Footer=ye;v.Content=ve;v.Sider=_;v._InternalSiderContext=ce;const Ce=t=>{const e=t!=null&&t.algorithm?R(t.algorithm):R(O),o=Object.assign(Object.assign({},G),t==null?void 0:t.token);return J(o,{override:t==null?void 0:t.token},e,Q)};function Se(t){const{sizeUnit:e,sizeStep:o}=t,r=o-2;return{sizeXXL:e*(r+10),sizeXL:e*(r+6),sizeLG:e*(r+2),sizeMD:e*(r+2),sizeMS:e*(r+1),size:e*r,sizeSM:e*r,sizeXS:e*(r-1),sizeXXS:e*(r-1)}}const Be=(t,e)=>{const o=e??O(t),r=o.fontSizeSM,n=o.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),Se(e??t)),Y(r)),{controlHeight:n}),Z(Object.assign(Object.assign({},o),{controlHeight:n})))},f=(t,e)=>new P(t).setAlpha(e).toRgbString(),y=(t,e)=>new P(t).lighten(e).toHexString(),Oe=t=>{const e=V(t,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},$e=(t,e)=>{const o=t||"#000",r=e||"#fff";return{colorBgBase:o,colorTextBase:r,colorText:f(r,.85),colorTextSecondary:f(r,.65),colorTextTertiary:f(r,.45),colorTextQuaternary:f(r,.25),colorFill:f(r,.18),colorFillSecondary:f(r,.12),colorFillTertiary:f(r,.08),colorFillQuaternary:f(r,.04),colorBgElevated:y(o,12),colorBgContainer:y(o,8),colorBgLayout:y(o,0),colorBgSpotlight:y(o,26),colorBgBlur:f(r,.04),colorBorder:y(o,26),colorBorderSecondary:y(o,19)}},je=(t,e)=>{const o=Object.keys(K).map(n=>{const l=V(t[n],{theme:"dark"});return new Array(10).fill(1).reduce((i,s,a)=>(i[`${n}-${a+1}`]=l[a],i[`${n}${a+1}`]=l[a],i),{})}).reduce((n,l)=>(n=Object.assign(Object.assign({},n),l),n),{}),r=e??O(t);return Object.assign(Object.assign(Object.assign({},r),o),ee(t,{generateColorPalettes:Oe,generateNeutralColorPalettes:$e}))};function ze(){const[t,e,o]=te();return{theme:t,token:e,hashId:o}}const He={defaultConfig:I,defaultSeed:I.token,useToken:ze,defaultAlgorithm:O,darkAlgorithm:je,compactAlgorithm:Be,getDesignToken:Ce};var Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},ke=function(e,o){return c.createElement(w,N({},e,{ref:o,icon:Le}))},Te=c.forwardRef(ke),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},we=function(e,o){return c.createElement(w,N({},e,{ref:o,icon:Ne}))},Ee=c.forwardRef(we),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},Re=function(e,o){return c.createElement(w,N({},e,{ref:o,icon:Ae}))},Ie=c.forwardRef(Re);const{Header:Me}=v,Pe=()=>{var i;const t=oe(),e=T(s=>s.value);let o=[];(i=e.data)!=null&&i.isLogin?o=[r({label:"Manage",key:"/store/",icon:g.jsx(Te,{}),children:[r({label:"Companies",key:"/store/companies/",isLogin:!0}),r({label:"Producs",key:"/store/products/",isLogin:!0}),r({label:"Categories",key:"/store/categories/",isLogin:!0})],isLogin:!0}),r({label:"Logout",key:"/accounts/logout/",icon:g.jsx(Ie,{}),isLogin:!0}),null]:o=[r({label:"login",key:"/accounts/login/",icon:g.jsx(Ee,{}),isLogin:!1})];function r({label:s,key:a,icon:d,children:m,isLogin:u}){var p;return u?((p=e.data)==null?void 0:p.isLogin)===!0?{key:a,icon:d,children:m,label:s}:null:{key:a,icon:d,children:m,label:s}}const{token:{colorBgContainer:n}}=He.useToken(),l=s=>{console.log("click ",s,s.key),t(s.key)};return g.jsx(Me,{className:"HeaderUser",style:{background:n},children:g.jsx(de,{mode:"horizontal",items:o,style:{flex:1,minWidth:0},onClick:l})})};function Ve(t){if(t.headers["content-type"].includes("application/json"))return!0;throw new Error("The response is not JSON")}const We=()=>{const t=ge(),e=T(i=>i.value),o=T(i=>i.changeValue),[r,n]=c.useState(!0);c.useEffect(()=>{l()},[]);const l=async()=>{console.log("Root");let i={},s=!1;try{const a=await t.get("/accounts/me/");console.log("json:",Ve(a)),i=a.data,s=!0}catch(a){console.error("Error[36482]:",a),console.error("Error[36482]:",a)}finally{console.log("Root finally"),o({...e,_lastUpdate:new Date,_seconds:5*60,_forceUpdate:!1,_isLoaded:!0,data:{user:i,isLogin:s}}),n(!1)}};return r?g.jsx(ie,{}):g.jsxs("div",{children:[g.jsx(Pe,{}),g.jsx("div",{children:g.jsx(re,{})})]})};export{We as default};
